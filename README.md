# Ice Order Telegram Bot

Telegram бот для заказа льда с шагом в 5 кг. Бот запоминает адрес пользователя и не требует его повторного ввода при каждом заказе.

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте файл `.env` в корневой директории проекта и добавьте в него токен вашего бота и ID таблицы Google Sheets:
```
BOT_TOKEN=your_bot_token_here
SPREADSHEET_ID=your_spreadsheet_id_here
```

3. Настройка Google Sheets API:
   - Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
   - Создайте новый проект
   - Включите Google Sheets API для вашего проекта
   - Создайте сервисный аккаунт и скачайте файл учетных данных
   - Переименуйте скачанный файл в `credentials.json` и поместите его в корневую директорию проекта
   - Создайте новую таблицу в Google Sheets
   - Скопируйте ID таблицы из URL (это часть между /d/ и /edit в URL таблицы)
   - Предоставьте доступ к таблице email'у сервисного аккаунта (он указан в credentials.json)

4. Запустите бота:
```bash
npm start
```

## Команды бота

- `/start` - Начать работу с ботом
- `/order` - Оформить заказ льда
- `/address` - Изменить адрес доставки

## Функциональность

- Заказ льда с шагом в 5 кг (от 5 до 30 кг)
- Сохранение адреса пользователя
- Простой интерфейс с кнопками выбора количества
- Подтверждение заказа с деталями
- Автоматическое сохранение заказов в Google Sheets

## Технические детали

- Использует Telegraf.js
- Сохраняет данные пользователей в JSON файл
- Реализован с использованием сцен Telegraf для пошагового сбора информации
- Интеграция с Google Sheets API для сохранения заказов 